(window.webpackJsonp=window.webpackJsonp||[]).push([[18],{550:function(s,t,a){"use strict";a.r(t);var n=a(7),e=Object(n.a)({},(function(){var s=this,t=s.$createElement,a=s._self._c||t;return a("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[a("div",{staticClass:"custom-block tip"},[a("p",{staticClass:"title"}),a("p",[s._v("记录本次博客搭建过程，本文参考"),a("a",{attrs:{href:"https://juejin.im/post/5d0715f6f265da1ba56b1e01",target:"_blank",rel:"noopener noreferrer"}},[s._v("拯救懒癌文档君 - VuePress + Travis CI + Github Pages 自动线上生成文档"),a("OutboundLink")],1)])]),a("h2",{attrs:{id:"通过vuepress构建博客页面"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#通过vuepress构建博客页面"}},[s._v("#")]),s._v(" 通过VuePress构建博客页面")]),s._v(" "),a("ol",[a("li",[s._v("通过包管理工具初始化项目")])]),s._v(" "),a("div",{staticClass:"language-sh line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("yarn")]),s._v(" init "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# npm init")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("ol",{attrs:{start:"2"}},[a("li",[s._v("将vuepress安装为本地依赖")])]),s._v(" "),a("div",{staticClass:"language-sh line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("yarn")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("add")]),s._v(" -D vuepress "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# npm install -D vuepress")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("ol",{attrs:{start:"3"}},[a("li",[s._v("创建第一篇文档")])]),s._v(" "),a("div",{staticClass:"language-sh line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("mkdir")]),s._v(" docs "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("&&")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'# Hello VuePress'")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" docs/README.md\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("ol",{attrs:{start:"4"}},[a("li",[s._v("在"),a("code",[s._v("package.json")]),s._v("中添加一些"),a("code",[s._v("script")])])]),s._v(" "),a("div",{staticClass:"language-json line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-json"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token property"}},[s._v('"scripts"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[s._v('"dev"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"vuepress dev docs"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[s._v('"build"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"vuepress build docs"')]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br")])]),a("ol",{attrs:{start:"5"}},[a("li",[s._v("启动本地服务器")])]),s._v(" "),a("div",{staticClass:"language-sh line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("yarn")]),s._v(" dev "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#npm run dev")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("p",[s._v("此时效果如下：\n"),a("img",{attrs:{src:"https://p6-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/6cd5522bda8448af883acbe13c189588~tplv-k3u1fbpfcp-watermark.image",alt:""}})]),s._v(" "),a("p",[s._v("6.在"),a("code",[s._v("docs")]),s._v("目录下建立"),a("code",[s._v(".vuepress")]),s._v("并在改目录下新建"),a("code",[s._v("config.js")]),s._v("文件可以实现网站的各项配置。\n此时目录结构为：")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v(".\n├─ docs\n│  ├─ README.md\n│  └─ .vuepress\n│     └─ config.js\n└─ package.json\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br")])]),a("p",[s._v("具体配置详见"),a("a",{attrs:{href:"https://vuepress.vuejs.org/zh/config/",target:"_blank",rel:"noopener noreferrer"}},[s._v("vuepress官网"),a("OutboundLink")],1),s._v("。")]),s._v(" "),a("p",[s._v("实现博客基础布局：\n"),a("img",{attrs:{src:"https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/66b2b3b32dcb4fc0971ec9f060125878~tplv-k3u1fbpfcp-watermark.image",alt:""}})]),s._v(" "),a("p",[s._v("从图中可以看出vuepress本身很简洁，如果我们想要实现更加美观的页面而又嫌配置麻烦，很幸运我们站在了前人的肩膀上，vuepress本身也支持配置主题，所以我们可以引用喜欢的主题，当然你也可以自己开发主题来为后人乘凉，本人使用的主题是"),a("a",{attrs:{href:"https://vuepress-theme-reco.recoluan.com/",target:"_blank",rel:"noopener noreferrer"}},[s._v("vuepress-theme-reco"),a("OutboundLink")],1),s._v("。")]),s._v(" "),a("h2",{attrs:{id:"建立github仓库"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#建立github仓库"}},[s._v("#")]),s._v(" 建立github仓库")]),s._v(" "),a("ol",[a("li",[a("p",[s._v("使用github创建项目[name].github.io。\n仓库如此命名的原因是，在此目录下可以直接使用"),a("code",[s._v("https://[name].github.io/")]),s._v("域名访问你的博客。")])]),s._v(" "),a("li",[a("p",[s._v("使用"),a("code",[s._v("git remote add origin [你的仓库]")]),s._v("将本地代码与远程库关联")])]),s._v(" "),a("li",[a("p",[s._v("通过"),a("code",[s._v("git checkout -b")]),s._v("切换到新分支，该分支存放文档源码，master分支用来存放打包好的 HTML 等文件\n之所以在master分支存放打包后的文件，是因为如果存放的不是打包后的文件，那么通过"),a("code",[s._v("https://[name].github.io")]),s._v("的域名访问，得到的将是是README自述文件，也可以通过Github Pages改变来源，本质上还是将打包文件放到你要访问的来源上。")])])]),s._v(" "),a("h2",{attrs:{id:"通过travis-cl实现自动化打包部署"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#通过travis-cl实现自动化打包部署"}},[s._v("#")]),s._v(" 通过travis-cl实现自动化打包部署")]),s._v(" "),a("ol",[a("li",[s._v("首先我们需要在项目的根目录下建立"),a("code",[s._v(".travis.yml")]),s._v("文件，并写如如下配置")])]),s._v(" "),a("div",{staticClass:"language-yml line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-yml"}},[a("code",[a("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("language")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" node_js\n"),a("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("node_js")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("10")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("cache")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" yarn\n"),a("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("install")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v(" yarn\n"),a("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("script")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v(" yarn build\n"),a("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("after_success")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v(" cd docs/.vuepress/dist\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v(" git init\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v(" git config "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v('global user.name "$'),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("U_NAME"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v('"\n    '),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v(" git config "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v('global user.email "$'),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("U_EMAIL"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v('"\n    '),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v(" git add "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v("A\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v(" git commit "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v("m 'deploy'\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v(" git push "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v("quiet "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v('force "https'),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("//$"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("GH_TOKEN"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("@$"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("GH_REF"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v('" master'),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("$"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("P_BRANCH"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br")])]),a("div",{staticClass:"custom-block tip"},[a("p",{staticClass:"title"}),a("ul",[a("li",[s._v("language: 语言选择 这里用node")]),s._v(" "),a("li",[s._v("node_js：使用的node版本")]),s._v(" "),a("li",[s._v("cache： yarn缓存")]),s._v(" "),a("li",[s._v("install： 安装依赖使用的包管理工具，yarn和npm均可 yarn更快")]),s._v(" "),a("li",[s._v("script： 一切就绪后通过yarn install安装依赖")]),s._v(" "),a("li",[s._v("after_success： 安装完成后执行的后续操作，将打包文件自动发布到你配置的对应仓库分支，这里的"),a("code",[s._v("${}")]),s._v("是在travis-cl中配置的环境变量，后文再说")])])]),a("ol",{attrs:{start:"2"}},[a("li",[a("p",[s._v("为travis-cl创建一个Personal access tokens，"),a("a",{attrs:{href:"https://github.com/settings/tokens",target:"_blank",rel:"noopener noreferrer"}},[s._v("地址"),a("OutboundLink")],1),s._v("，权限根据自己的需要授权，不必全选。")])]),s._v(" "),a("li",[a("p",[s._v("访问"),a("a",{attrs:{href:"https://travis-ci.com/",target:"_blank",rel:"noopener noreferrer"}},[s._v("travis-cl"),a("OutboundLink")],1),s._v("，使用github账号登录，再进入"),a("a",{attrs:{href:"https://travis-ci.com/dashboard",target:"_blank",rel:"noopener noreferrer"}},[s._v("dashboard"),a("OutboundLink")],1),s._v(",此时就可以看见你的git仓库了。")])]),s._v(" "),a("li",[a("p",[s._v("启动进入github.io这个项目，再通过setting，来配置上文提到的环境变量。")])])]),s._v(" "),a("div",{staticClass:"custom-block tip"},[a("p",{staticClass:"title"}),a("ul",[a("li",[s._v("GH_REF: 项目地址（github.com/[name]/[name].github.io.git）注意去掉 https://")]),s._v(" "),a("li",[s._v("GH_TOKEN: 上面提到的Personal access tokens")]),s._v(" "),a("li",[s._v("U_NAME：你的github用户名")]),s._v(" "),a("li",[s._v("U_EMAIL: 你的github邮箱")])])]),a("ol",{attrs:{start:"5"}},[a("li",[s._v("进入github.io仓库的setting页面修改"),a("code",[s._v("GitHub Pages")]),s._v("的值为上面"),a("code",[s._v(".travis.yml")]),s._v("中配置的分支，也可以直接使用master分支。")])]),s._v(" "),a("p",[s._v("到这里，travis-ci部署已经完成，我们下一次提交代码到github，就会触发travis-ci自动构建，将打包文件上传到指定分支，上传完成后,就可以通过"),a("code",[s._v("https://[name].github.io/")]),s._v("来访问你的博客了。")]),s._v(" "),a("h2",{attrs:{id:"总结"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#总结"}},[s._v("#")]),s._v(" 总结")]),s._v(" "),a("p",[s._v("其实，目前网络上搭建博客的框架有很多比如我这次使用的"),a("code",[s._v("vuepress")]),s._v("，另外还有"),a("code",[s._v("hexo")]),s._v("、"),a("code",[s._v("jekyll")]),s._v("等等，搭建博客也变的很简单，难的其实是搭建完成后，持之以恒的发布博文，记录自己的技术积累，希望自己能坚持下去。")]),s._v(" "),a("p",[s._v("这次的博客其实是运行在"),a("code",[s._v("GitHub Page")]),s._v("上的，使用的是github提供的服务器，希望未来学习node等服务端语言后，搭建自己的服务器后再将博客搬到自己的服务器上。")])])}),[],!1,null,null,null);t.default=e.exports}}]);